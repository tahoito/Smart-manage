<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{/css/styles.css}" rel="stylesheet">
	<link th:href="@{/css/index.css}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<title>Smart Manage</title>
</head>
<body>
    <div th:replace="~{block/header::headerAccount}"></div>
    <h1>カテゴリー別の支出</h1>
    <canvas id="expenseChart"></canvas>

    <script th:inline="javascript">
        var expenseData = /*[[${expenseData}]]*/ {};
    
        var ctx = document.getElementById("expenseChart").getContext("2d");
        new Chart(ctx, {
            type: "pie",
            data: {
                labels: Object.keys(expenseData), // 🔥 カテゴリー名がそのまま使える！
                datasets: [{
                    data: Object.values(expenseData),
                    backgroundColor: ["#ff6384", "#36a2eb", "#ffce56", "#ff9f40", "#4bc0c0", "#9966ff", "#ffcc99", "#c9cbcf"]
                }]
            }
        });
    </script>    
</body>
</html>
